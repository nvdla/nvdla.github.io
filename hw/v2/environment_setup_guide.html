
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>NVDLA Environment Setup Guide &#8212; NVDLA Documentation</title>
    <link rel="stylesheet" href="../../_static/nvdla.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/styles.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Integrator’s Manual" href="integration_guide.html" />
    <link rel="prev" title="Programming Guide" href="../v1/ias/programming_guide.html" />
 
<script src="//assets.adobedtm.com/b92787824f2e0e9b68dc2e993f9bd995339fe417/satelliteLib-30c8ffcc8ece089156fd5590fbcf390ffc296f51.js"></script>
  </head><body>
<header class="navbar">
  <nav class="container navbar navbar-light bg-faded">
    <a class="navbar-brand" href="https://www.nvidia.com/">
      <div class="logo"></div>
    </a>
  </nav>
</header>

    <div class="related" role="navigation" aria-label="related navigation">
      <div class="container">
      <div class="row">
      <h3>Navigation</h3>
      <ul>
        <li class="right first">
          <a href="integration_guide.html" title="Integrator’s Manual"
             accesskey="N">next</a></li>
        <li class="right">
          <a href="../v1/ias/programming_guide.html" title="Programming Guide"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">NVDLA Open Source Project</a>&#187;</li>
        <li class="nav-item nav-item-1"><a href="../../contents.html">Documentation</a>&#187;</li>
          <li class="nav-item nav-item-2"><a href="../contents.html" accesskey="U">Hardware Manual</a>&#187;</li> 
      </ul>
      </div>
      </div>
    </div>
  <div class="document">
    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-md-9">
          
  <div class="section" id="nvdla-environment-setup-guide">
<h1><a class="toc-backref" href="#id1">NVDLA Environment Setup Guide</a><a class="headerlink" href="#nvdla-environment-setup-guide" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#nvdla-environment-setup-guide" id="id1">NVDLA Environment Setup Guide</a><ul>
<li><a class="reference internal" href="#tools-and-dependency-libraries-setup" id="id2">Tools and Dependency Libraries Setup</a><ul>
<li><a class="reference internal" href="#tree-make-setup" id="id3">tree.make setup</a></li>
<li><a class="reference internal" href="#project-name-setup" id="id4">Project name setup</a></li>
<li><a class="reference internal" href="#designware-components" id="id5">Designware Components</a></li>
</ul>
</li>
<li><a class="reference internal" href="#build-tree" id="id6">Build Tree</a><ul>
<li><a class="reference internal" href="#build-rtl" id="id7">Build RTL</a></li>
<li><a class="reference internal" href="#build-test-bench" id="id8">Build Test Bench</a></li>
<li><a class="reference internal" href="#build-test-bench-and-run-protect-tests" id="id9">Build test bench and run protect tests</a></li>
<li><a class="reference internal" href="#build-cmod" id="id10">Build CMOD</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="tools-and-dependency-libraries-setup">
<h2><a class="toc-backref" href="#id2">Tools and Dependency Libraries Setup</a><a class="headerlink" href="#tools-and-dependency-libraries-setup" title="Permalink to this headline">¶</a></h2>
<p>Required tools and libraries and version could be found in TOT/makefile.</p>
<div class="section" id="tree-make-setup">
<h3><a class="toc-backref" href="#id3">tree.make setup</a><a class="headerlink" href="#tree-make-setup" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">TOT&gt;</span> <span class="pre">make</span></code></p>
<p>Please install corresponding tools and point to the actual path in your
environment.</p>
<p>Note that the current source code has only been tested for the nv_small
configuration, and while the nv_small configuration passes many tests,
additionall coverage is necessary to get it to tapeout quality.</p>
<p>Any project name specified should have a project spec file located at hw/spec/defs/&lt;project_name&gt;.spec.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Creating</span> <span class="n">tree</span><span class="o">.</span><span class="n">make</span> <span class="n">to</span> <span class="n">setup</span> <span class="n">your</span> <span class="n">working</span> <span class="n">environment</span> <span class="ow">and</span> <span class="n">projects</span>

<span class="n">Enter</span> <span class="n">projects</span> <span class="n">name</span> <span class="p">(</span><span class="n">Press</span> <span class="n">ENTER</span> <span class="k">if</span> <span class="n">use</span><span class="p">:</span> <span class="n">nv_small</span> <span class="n">nv_large</span><span class="p">):</span>

<span class="n">Enter</span> <span class="n">to</span> <span class="n">determine</span> <span class="n">designware_noexist</span> <span class="p">(</span><span class="n">Press</span> <span class="n">ENTER</span> <span class="mi">0</span> <span class="n">to</span> <span class="n">use</span> <span class="n">design</span> <span class="n">ware</span><span class="p">,</span> <span class="mi">1</span> <span class="n">to</span> <span class="ow">not</span> <span class="n">use</span> <span class="n">design</span> <span class="n">ware</span><span class="p">:</span> <span class="mi">1</span><span class="p">):</span>

<span class="n">Enter</span> <span class="n">design</span> <span class="n">ware</span> <span class="n">path</span> <span class="p">(</span><span class="n">Press</span> <span class="n">ENTER</span> <span class="k">if</span> <span class="n">use</span><span class="p">:</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">synopsys</span><span class="o">/</span><span class="n">syn_2011</span><span class="o">.</span><span class="mi">09</span><span class="o">/</span><span class="n">dw</span><span class="o">/</span><span class="n">sim_ver</span><span class="p">):</span>

<span class="n">Enter</span> <span class="n">c</span> <span class="n">pre</span><span class="o">-</span><span class="n">process</span> <span class="n">path</span> <span class="p">(</span><span class="n">Press</span> <span class="n">ENTER</span> <span class="k">if</span> <span class="n">use</span><span class="p">:</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">utils</span><span class="o">/</span><span class="n">gcc</span><span class="o">-</span><span class="mf">4.8</span><span class="o">.</span><span class="mi">2</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">cpp</span><span class="p">):</span>

<span class="n">Enter</span> <span class="n">gcc</span> <span class="n">path</span> <span class="p">(</span><span class="n">Press</span> <span class="n">ENTER</span> <span class="k">if</span> <span class="n">use</span><span class="p">:</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">utils</span><span class="o">/</span><span class="n">gcc</span><span class="o">-</span><span class="mf">4.8</span><span class="o">.</span><span class="mi">2</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">gcc</span><span class="p">):</span>

<span class="n">Enter</span> <span class="n">g</span><span class="o">++</span> <span class="n">path</span> <span class="p">(</span><span class="n">Press</span> <span class="n">ENTER</span> <span class="k">if</span> <span class="n">use</span><span class="p">:</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">utils</span><span class="o">/</span><span class="n">gcc</span><span class="o">-</span><span class="mf">4.8</span><span class="o">.</span><span class="mi">2</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">g</span><span class="o">++</span><span class="p">):</span>

<span class="n">Enter</span> <span class="n">perl</span> <span class="n">path</span> <span class="p">(</span><span class="n">Press</span> <span class="n">ENTER</span> <span class="k">if</span> <span class="n">use</span><span class="p">:</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">utils</span><span class="o">/</span><span class="n">perl</span><span class="o">-</span><span class="mf">5.10</span><span class="o">/</span><span class="mf">5.10</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="n">threads</span><span class="o">-</span><span class="mi">64</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">perl</span><span class="p">):</span>

<span class="n">Enter</span> <span class="n">java</span> <span class="n">path</span> <span class="p">(</span><span class="n">Press</span> <span class="n">ENTER</span> <span class="k">if</span> <span class="n">use</span><span class="p">:</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">utils</span><span class="o">/</span><span class="n">java</span><span class="o">/</span><span class="n">jdk1</span><span class="o">.</span><span class="mf">8.0</span><span class="n">_131</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">java</span><span class="p">):</span>

<span class="n">Enter</span> <span class="n">systemc</span> <span class="n">path</span> <span class="p">(</span><span class="n">Press</span> <span class="n">ENTER</span> <span class="k">if</span> <span class="n">use</span><span class="p">:</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ip</span><span class="o">/</span><span class="n">shared</span><span class="o">/</span><span class="n">inf</span><span class="o">/</span><span class="n">SystemC</span><span class="o">/</span><span class="mf">1.0</span><span class="o">/</span><span class="mi">20151112</span><span class="o">/</span><span class="n">systemc</span><span class="o">-</span><span class="mf">2.3</span><span class="o">.</span><span class="mi">0</span><span class="o">/</span><span class="n">GCC472_64_DBG</span><span class="p">):</span>

<span class="n">Enter</span> <span class="n">python</span> <span class="n">path</span> <span class="p">(</span><span class="n">Press</span> <span class="n">ENTER</span> <span class="k">if</span> <span class="n">use</span><span class="p">:</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">continuum</span><span class="o">/</span><span class="n">Anaconda3</span><span class="o">-</span><span class="mf">5.0</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">python</span><span class="p">):</span>

<span class="n">Enter</span> <span class="n">vcs_home</span> <span class="n">path</span> <span class="p">(</span><span class="n">Press</span> <span class="n">ENTER</span> <span class="k">if</span> <span class="n">use</span><span class="p">:</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">vcs</span><span class="o">/</span><span class="n">mx</span><span class="o">-</span><span class="mf">2016.06</span><span class="o">-</span><span class="n">SP2</span><span class="o">-</span><span class="mi">4</span><span class="p">):</span>

<span class="n">Enter</span> <span class="n">novas_home</span> <span class="n">path</span> <span class="p">(</span><span class="n">Press</span> <span class="n">ENTER</span> <span class="k">if</span> <span class="n">use</span><span class="p">:</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">debussy</span><span class="o">/</span><span class="n">verdi3_2016</span><span class="o">.</span><span class="mi">06</span><span class="o">-</span><span class="n">SP2</span><span class="o">-</span><span class="mi">9</span><span class="p">):</span>

<span class="n">Enter</span> <span class="n">verdi_home</span> <span class="n">path</span> <span class="p">(</span><span class="n">Press</span> <span class="n">ENTER</span> <span class="k">if</span> <span class="n">use</span><span class="p">:</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">debussy</span><span class="o">/</span><span class="n">verdi3_2016</span><span class="o">.</span><span class="mi">06</span><span class="o">-</span><span class="n">SP2</span><span class="o">-</span><span class="mi">9</span><span class="p">):</span>

<span class="o">================================================================</span>

<span class="n">tree</span><span class="o">.</span><span class="n">make</span> <span class="ow">is</span> <span class="n">created</span> <span class="n">successfully</span><span class="p">,</span> <span class="ow">and</span> <span class="n">you</span> <span class="n">can</span> <span class="n">edit</span> <span class="n">tree</span><span class="o">.</span><span class="n">make</span>
<span class="n">manually</span> <span class="n">later</span>

<span class="o">================================================================</span>
</pre></div>
</div>
<p>After this setup, a file named <code class="docutils literal notranslate"><span class="pre">tree.make</span></code> will be generated under TOT
directory.</p>
</div>
<div class="section" id="project-name-setup">
<h3><a class="toc-backref" href="#id4">Project name setup</a><a class="headerlink" href="#project-name-setup" title="Permalink to this headline">¶</a></h3>
<p>During tree.make file setup process, project name has been specified. The
project name could be changed after tree.make generation. It’s allowed to build
multiple projects. To change target project names, open generated TOT/tree.make
, and modify line which starts with projects, for example, we can remove other
project name, only build nv_small:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##=======================</span>
<span class="c1">## Project Name Setup, multiple projects supported</span>
<span class="c1">##=======================</span>
<span class="n">PROJECTS</span> <span class="p">:</span><span class="o">=</span> <span class="n">nv_small</span>
</pre></div>
</div>
</div>
<div class="section" id="designware-components">
<h3><a class="toc-backref" href="#id5">Designware Components</a><a class="headerlink" href="#designware-components" title="Permalink to this headline">¶</a></h3>
<p>The NVDLA design utilize the following Designware components.</p>
<ul class="simple">
<li>DW02_multp</li>
<li>DW02_sum</li>
<li>DW_lsd</li>
</ul>
<p>For best QOR, the EDA vendor supplied versions should be used for both synthesis
and simulation. They can be obtained directly from the EDA vendors.</p>
<p>If no designware implementation is available, the NVDLA repository contains
an alternate implementation.  The design can be compiled to
using the alternate implementation by setting the tree.make variable
DESIGNWARE_NOEXIST to 1.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DESIGNWARE_NOEXIST</span> <span class="p">:</span><span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>If designware implementation is available, set the tree.make
variable DESIGNWARE_NOEXIST to 0. When using a designware implementation,
the designware directory also needs up be added to tree.make with
the DESIGNWARE_DIR variable.  This variable should point to a directory
where the simulation version of the designware component is avaiable.
Synthesis will pick up an internal optimized version.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DESIGNWARE_NOEXIST</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span>
<span class="n">DESIGNWARE_DIR</span> <span class="p">:</span><span class="o">=</span> \<span class="o">&lt;</span><span class="n">PATH_TO_DESIGNWARE_DIRECTOTRY</span>\<span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="build-tree">
<h2><a class="toc-backref" href="#id6">Build Tree</a><a class="headerlink" href="#build-tree" title="Permalink to this headline">¶</a></h2>
<div class="section" id="build-rtl">
<h3><a class="toc-backref" href="#id7">Build RTL</a><a class="headerlink" href="#build-rtl" title="Permalink to this headline">¶</a></h3>
<p>Once tree.make has been setup, RTL can be build with following command</p>
<p><code class="docutils literal notranslate"><span class="pre">TOT</span> <span class="pre">&gt;</span> <span class="pre">./tools/bin/tmake</span> <span class="pre">-build</span> <span class="pre">vmod</span></code></p>
<p>In the end of build process, following line will
be show in the last line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">TMAKE</span><span class="p">]:</span> <span class="n">DONE</span>
</pre></div>
</div>
<p>There will be a new directory named outdir under TOT. RTL file can be
found under TOT/outdir/&lt;project_name&gt;/vmod.</p>
</div>
<div class="section" id="build-test-bench">
<h3><a class="toc-backref" href="#id8">Build Test Bench</a><a class="headerlink" href="#build-test-bench" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">TOT</span> <span class="pre">&gt;</span> <span class="pre">./tools/bin/tmake</span> <span class="pre">-build</span> <span class="pre">ready_for_test</span></code></p>
<p>Several messages begin with [TMAKE] will be show on terminal output
during build process, and in the end of the process, following line will
be show in the last line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">TMAKE</span><span class="p">]:</span> <span class="n">DONE</span>
</pre></div>
</div>
<p>There will be a new directory named outdir under TOT, it’s generated by
build flow and contains generated RTL and verification environment.</p>
</div>
<div class="section" id="build-test-bench-and-run-protect-tests">
<h3><a class="toc-backref" href="#id9">Build test bench and run protect tests</a><a class="headerlink" href="#build-test-bench-and-run-protect-tests" title="Permalink to this headline">¶</a></h3>
<p>To validate tree healthness after download from git server, or to make sure
changes are not break base line functions, use following command to build
tree and then run protection tests</p>
<p><code class="docutils literal notranslate"><span class="pre">TOT</span> <span class="pre">&gt;</span> <span class="pre">./tools/bin/tmake</span> <span class="pre">-build</span> <span class="pre">verif_protection</span></code></p>
<p>In the end of build process, following line will
be show in the last line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">TMAKE</span><span class="p">]:</span> <span class="n">DONE</span>
</pre></div>
</div>
</div>
<div class="section" id="build-cmod">
<h3><a class="toc-backref" href="#id10">Build CMOD</a><a class="headerlink" href="#build-cmod" title="Permalink to this headline">¶</a></h3>
<p>There is a tmake target for the Cmodel of NVDLA, which lives
in the <code class="docutils literal notranslate"><span class="pre">cmod/</span></code> directory.  If building the Virtual Platform, or another
application that uses the NVDLA Cmodel, please use following command</p>
<p><code class="docutils literal notranslate"><span class="pre">TOT</span> <span class="pre">&gt;</span> <span class="pre">./tools/bin/tmake</span> <span class="pre">-build</span> <span class="pre">cmod_top</span></code></p>
<p>In the end of build process, following line will
be show in the last line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">TMAKE</span><span class="p">]:</span> <span class="n">DONE</span>
</pre></div>
</div>
<p>CMOD headers and dynamically linked shared object library could be found under
<code class="docutils literal notranslate"><span class="pre">outdir/&lt;project_name&gt;/cmod/release</span></code></p>
<p>Here is the end of <strong>NVDLA Environment Setup Guide</strong>.</p>
</div>
</div>
</div>


        </div>
        <div class="col-xs-12 col-md-3">
          
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">NVDLA Environment Setup Guide</a><ul>
<li><a class="reference internal" href="#tools-and-dependency-libraries-setup">Tools and Dependency Libraries Setup</a><ul>
<li><a class="reference internal" href="#tree-make-setup">tree.make setup</a></li>
<li><a class="reference internal" href="#project-name-setup">Project name setup</a></li>
<li><a class="reference internal" href="#designware-components">Designware Components</a></li>
</ul>
</li>
<li><a class="reference internal" href="#build-tree">Build Tree</a><ul>
<li><a class="reference internal" href="#build-rtl">Build RTL</a></li>
<li><a class="reference internal" href="#build-test-bench">Build Test Bench</a></li>
<li><a class="reference internal" href="#build-test-bench-and-run-protect-tests">Build test bench and run protect tests</a></li>
<li><a class="reference internal" href="#build-cmod">Build CMOD</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../v1/ias/programming_guide.html"
                        title="previous chapter">Programming Guide</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="integration_guide.html"
                        title="next chapter">Integrator’s Manual</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/hw/v2/environment_setup_guide.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
        </div>
      </div>
    </div>
  </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <div class="container">
      <div class="row">
      <h3>Navigation</h3>
      <ul>
        <li class="right first">
          <a href="integration_guide.html" title="Integrator’s Manual"
             >next</a></li>
        <li class="right">
          <a href="../v1/ias/programming_guide.html" title="Programming Guide"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">NVDLA Open Source Project</a>&#187;</li>
        <li class="nav-item nav-item-1"><a href="../../contents.html">Documentation</a>&#187;</li>
          <li class="nav-item nav-item-2"><a href="../contents.html" >Hardware Manual</a>&#187;</li> 
      </ul>
      </div>
      </div>
    </div>
<div class="footer" role="contentinfo">
<div class="container">
<div class="row">
&#169; <a
href="../../copyright.html">Copyright</a> 2017, NVIDIA Corporation.
<a href="http://www.nvidia.com/object/legal_info.html">Legal Information.</a>
<a href="http://www.nvidia.com/object/privacy_policy.html">Privacy Policy.</a>
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
</div>
</div>
</div>
<script type="text/javascript">_satellite.pageBottom();</script>
  </body>
</html>